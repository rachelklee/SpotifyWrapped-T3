<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Guessing Game</title>
    <style>
        .song-option {
            margin: 10px;
        }
        .correct-answer {
            color: green; /* Highlight the correct answer in green */
        }
        .incorrect-answer {
            color: red;  /* Highlight incorrect answers in red */
        }
    </style>
</head>
<body>
    <h1>Music Guessing Game</h1>
    <p>Listen to the preview and guess which song is the correct one:</p>

    <div>
        <!-- Audio player for the correct song preview -->
        <audio id="songPreview" controls>
            <source src="{{ preview_url }}" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
    </div>

    <form method="POST">
        {% csrf_token %}
        {% for option in options %}
            <div class="song-option">
                <label>
                    <input type="radio" name="song_guess" value="{{ option.name }}" required
                        {% if highlight_correct and option.name == correct_song.name %} checked {% endif %}>
                    <span class="{% if option.name == correct_song.name %}correct-answer{% else %}incorrect-answer{% endif %}">
                        {{ option.name }} by {{ option.artists.0.name }}
                    </span>
                </label>
            </div>
        {% endfor %}
        <button type="submit">Submit</button>
    </form>

    {% if result %}
        <p>{{ result }}</p>
    {% endif %}

    <a href="{% url 'api:music_guessing_game' %}">Next Question</a>
</body>
</html>
